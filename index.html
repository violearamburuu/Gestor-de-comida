<!DOCTYPE html>
<html lang="es">
  <head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title>Gestor de recetas</title>
    <link
      href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.3/dist/css/bootstrap.min.css"
      rel="stylesheet"
    />
    <script src="./js/data.js"></script>
    <script type="module" src="./js/script.js"></script>
    <style>
      :root {
        --bs-primary-rgb: 169, 35, 133;
        --bs-primary: rgb(169, 35, 133);
        --secondary-color: #95377b;
        --tercer-color: rgb(255, 192, 222);
        --success-color: #28a745;
        --danger-color: #dc3545;
        --warning-color: #ffc107;
      }

      .nav-link.active {
        background-color: rgb(139, 30, 117) !important;
        color: white !important;
        border-radius: 8px;
      }

      body {
        font-family: "Inter", sans-serif;
        background-color: #f8f9fa;
      }

      mark {
        background-color: var(--tercer-color) !important;
        color: white !important;
        padding: 2px 4px;
        border-radius: 3px;
        font-weight: 500;
      }

      button {
        background-color: var(--bs-primary) !important;
        border-color: var(--bs-primary) !important;
        color: white !important;
      }

      .btn-primary:hover {
        background-color: var(--secondary-color) !important;
        border-color: var(--secondary-color) !important;
        color: white !important;
      }

      .btn-outline-success:hover {
        background-color: var(--success-color) !important;
        border-color: var(--success-color) !important;
        color: white !important;
      }


      .btn-outline-danger:hover {
        background-color: var(--danger-color) !important;
        border-color: var(--danger-color) !important;
        color: white !important;
      }

      .btn-outline-warning:hover {
        background-color: var(--warning-color) !important;
        border-color: var(--warning-color) !important;
        color: #212529 !important;
      }

      .btn-custom:hover {
        background-color: var(--secondary-color) !important;
        border-color: var(--secondary-color) !important;
        color: white !important;
      }
       
    </style>
  </head>

  <body>
    <nav
      class="navbar navbar-expand-lg navbar-dark bg-primary shadow-sm mb-1"
      aria-label="Barra de navegación principal"
    >
      <div class="container">
        <a class="navbar-brand fw-bold" href="#">Comidas</a>
        <button
          class="navbar-toggler"
          id="navbar-toggler"
          type="button"
          data-bs-toggle="collapse"
          data-bs-target="#navbarNav"
          aria-controls="navbarNav"
          aria-expanded="false"
          aria-label="Alternar navegación"
        >
          <span class="navbar-toggler-icon"></span>
        </button>
        <div class="collapse navbar-collapse" id="navbarNav">
          <ul class="navbar-nav ms-auto" id="main-tabs" role="tablist">
            <li class="nav-item">
              <a
                class="nav-link active"
                id="armar-carrito-tab"
                data-bs-toggle="tab"
                href="#armar-carrito"
                role="tab"
                aria-controls="armar-carrito"
                aria-selected="true"
                >Armar carrito</a
              >
            </li>
            <li class="nav-item">
              <a
                class="nav-link"
                id="recetas-tab"
                data-bs-toggle="tab"
                href="#recetas"
                role="tab"
                aria-controls="recetas"
                aria-selected="false"
                >Recetas</a
              >
            </li>
            <li class="nav-item">
              <a
                class="nav-link"
                id="carrito-tab"
                data-bs-toggle="tab"
                href="#carrito"
                role="tab"
                aria-controls="carrito"
                aria-selected="false"
                >Carrito</a
              >
            </li>
          </ul>
        </div>
      </div>
    </nav>
    <main class="container" id="main" role="main">
      <div class="tab-content" id="main-content">
        <!-- Pestaña Armar Carrito -->
        <div
          class="tab-pane fade show active"
          id="armar-carrito"
          role="tabpanel"
          aria-labelledby="armar-carrito-tab"
        >
          <h1 class="mb-4 display-6 text-primary fs-2">Armar Carrito</h1>
          <div class="row">
            <div class="col-md-8">
              <!-- Barra de búsqueda -->
              <div class="mb-3">
                <div class="input-group">
                  <span class="input-group-text">
                    <i class="fas fa-search"></i>
                  </span>
                  <input
                    type="text"
                    class="form-control"
                    id="buscar-carrito"
                    placeholder="Buscar recetas por nombre o ingrediente..."
                  />
                  <button
                    class="btn btn-outline-secondary"
                    type="button"
                    id="limpiar-buscar-carrito"
                  >
                    <i class="fas fa-times"></i>
                  </button>
                </div>
              </div>
              <ul id="lista-recetas" class="list-group"></ul>
            </div>
            <div class="col-md-4">
              <aside id="aside">
                <div id="receta-seleccionada">
                  <div class="text-muted text-center p-4">
                    <i class="fas fa-utensils fa-2x mb-3"></i>
                    <p>Selecciona una receta para ver los detalles</p>
                  </div>
                </div>
                <div id="botones-carrito" class="mt-3"></div>
              </aside>
            </div>
          </div>
        </div>

        <!-- Pestaña Recetas -->
        <div
          class="tab-pane fade"
          id="recetas"
          role="tabpanel"
          aria-labelledby="recetas-tab"
        >
          <h1 class="mb-4 display-6 text-primary fs-2">Recetas</h1>
          <div class="row">
            <!-- Formulario para crear recetas -->
            <div class="col-md-6">
              <div class="card">
                <div class="card-header">
                  <h5 class="mb-0">Crear Nueva Receta</h5>
                </div>
                <div class="card-body">
                  <form id="form-nueva-receta">
                    <div class="mb-3">
                      <label for="nombre-receta" class="form-label"
                        >Nombre de la receta</label
                      >
                      <input
                        type="text"
                        class="form-control"
                        id="nombre-receta"
                        placeholder="Ej: Pasta con tomate"
                        required
                      />
                    </div>

                    <div class="mb-3">
                      <label for="ingredientes-receta" class="form-label"
                        >Ingredientes</label
                      >
                      <input
                        type="text"
                        class="form-control"
                        id="ingredientes-receta"
                        placeholder="Ej: pasta, tomate, ajo, aceite"
                        required
                      />
                      <div class="form-text">
                        Separa los ingredientes con comas. Se eliminarán
                        automáticamente los espacios extra.
                      </div>
                    </div>

                    <div class="mb-3">
                      <label for="pasos-receta" class="form-label"
                        >Instrucciones</label
                      >
                      <textarea
                        class="form-control"
                        id="pasos-receta"
                        rows="4"
                        placeholder="Describe los pasos para preparar la receta..."
                        required
                      ></textarea>
                    </div>

                    <button type="submit" class="btn btn-primary w-100">
                      <i class="fas fa-plus me-2"></i>Crear Receta
                    </button>
                  </form>
                </div>
              </div>
            </div>

            <!-- Lista de recetas creadas -->
            <div class="col-md-6">
              <div class="card">
                <div
                  class="card-header d-flex justify-content-between align-items-center"
                >
                  <h5 class="mb-0">Recetas Disponibles</h5>
                  <span class="badge bg-secondary" id="contador-recetas"
                    >3</span
                  >
                </div>
                <div class="card-body">
                  <!-- Barra de búsqueda -->
                  <div class="mb-3">
                    <div class="input-group input-group-sm">
                      <span class="input-group-text">
                        <i class="fas fa-search"></i>
                      </span>
                      <input
                        type="text"
                        class="form-control"
                        id="buscar-recetas"
                        placeholder="Buscar por nombre o ingrediente..."
                      />
                      <button
                        class="btn btn-outline-secondary"
                        type="button"
                        id="limpiar-buscar-recetas"
                      >
                        <i class="fas fa-times"></i>
                      </button>
                    </div>
                  </div>
                  <div id="lista-todas-recetas">
                    <!-- Las recetas se cargarán aquí -->
                  </div>
                </div>
              </div>
            </div>
          </div>
        </div>

        <!-- Pestaña Carrito -->
        <div
          class="tab-pane fade"
          id="carrito"
          role="tabpanel"
          aria-labelledby="carrito-tab"
        >
          <h1 class="mb-4 display-6 text-primary fs-2">
            Mi Carrito de Compras
          </h1>
          <div class="row">
            <div class="col-md-8">
              <div id="lista-ingredientes">
                <div class="text-muted text-center p-5">
                  <i class="fas fa-shopping-cart fa-3x mb-3"></i>
                  <h4>Carrito vacío</h4>
                  <p>
                    Agrega recetas desde "Armar Carrito" para ver la lista de
                    ingredientes aquí
                  </p>
                </div>
              </div>
            </div>
            <div class="col-md-4">
              <div class="card">
                <div class="card-header">
                  <h5 class="mb-0">Resumen del Carrito</h5>
                </div>
                <div class="card-body" id="resumen-carrito">
                  <p class="text-muted mb-0">0 recetas seleccionadas</p>
                  <p class="text-muted mb-0">0 ingredientes únicos</p>
                </div>
                <div class="card-footer">
                  <button
                    class="btn btn-outline-success btn-sm w-100 mb-2"
                    id="exportar-lista"
                    disabled
                  >
                    <i class="fas fa-download me-1"></i>Exportar Lista
                  </button>
                  <button
                    class="btn btn-outline-danger btn-sm w-100 mb-2"
                    id="limpiar-carrito"
                    disabled
                  >
                    <i class="fas fa-trash me-1"></i>Limpiar Carrito
                  </button>
                  <button
                    class="btn btn-outline-warning btn-sm w-100"
                    id="limpiar-datos"
                    title="Eliminar todos los datos guardados"
                  >
                    <i class="fas fa-database me-1"></i>Reset Total
                  </button>
                </div>
              </div>
            </div>
          </div>
        </div>
      </div>
    </main>

    <script src="https://cdn.jsdelivr.net/npm/bootstrap@5.3.3/dist/js/bootstrap.bundle.min.js"></script>
    <script src="https://cdn.jsdelivr.net/npm/chart.js@4.4.2/dist/chart.umd.min.js"></script>
  </body>
</html>
